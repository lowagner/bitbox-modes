run.c:
    tile translation
    hide sprites which are completely set inside another block with zero velocity.
        - compute a "hidden" property (set z=0 to hide) when transitioning to run mode
        - reset when going to map mode (always z=1 or higher)
    
    sprites:
        add velocity to objects

sprite pattern commands:
    end
    wait
    look for player, change direction based on argument
    set speed
    stop/turn/run/jump/fire (literally, not in command)
    if not in air, goto
    if not running, goto
    if not firing, goto
    set edge behavior (stop, turn, fall, jump, stop if slow enough or fall, stop if slow enough or jump, etc.)
    randomize command
    handle player directional input (1 bit player for player 1, 2=left/right, 4=up/down, 8=mirrored)
    handle player special input (1 bit for player 1, 2=jump, 4=run, 8=fire)
    spawn other sprite (projectile)
    spawn other tile
    set shake screen
    make noise

unlock pattern commands:
    wait
    set spawn location x, y (needs 10 bits for each x,y)
    spawn sprite
    spawn tile (this can also destroy a tile if you spawn an "air" tile)
    randomize command
    set spawn location to player location (2 bits for offset in each direction)
    set spawn location delta x, y
    shake screen
    make noise

game editor
    BG_COLOR 141
